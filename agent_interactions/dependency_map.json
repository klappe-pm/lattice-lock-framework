{
  "metadata": {
    "generated_date": "2025-10-05",
    "agent": "research_agent",
    "sub_agent": "dependency_mapper",
    "analysis_scope": "Model Orchestrator + Agent System"
  },
  "internal_dependencies": {
    "model_orchestrator_core": {
      "file": "src/model_orchestrator.py",
      "provides": [
        "ModelOrchestrator",
        "TaskType",
        "ModelProvider",
        "ModelCapabilities",
        "TaskRequirements"
      ],
      "imports_from_project": [],
      "imported_by": [
        "zen_mcp_bridge.py",
        "model-orchestrator-enhanced.py",
        "model_orchestrator_v2.py",
        "test_integration.py"
      ],
      "complexity": "high",
      "lines_of_code": "~1500"
    },
    "model_orchestrator_enhanced": {
      "file": "src/model_orchestrator_enhanced.py",
      "provides": [
        "EnhancedModelOrchestrator"
      ],
      "imports_from_project": [
        "model_orchestrator"
      ],
      "imported_by": [
        "test_real_world.py"
      ],
      "complexity": "medium",
      "lines_of_code": "~900"
    },
    "model_orchestrator_v2": {
      "file": "src/model_orchestrator_v2.py",
      "provides": [
        "ModelOrchestratorV2"
      ],
      "imports_from_project": [
        "api_clients",
        "model_orchestrator"
      ],
      "imported_by": [
        "test_integration.py"
      ],
      "complexity": "medium",
      "lines_of_code": "~850"
    },
    "zen_mcp_bridge": {
      "file": "src/zen_mcp_bridge.py",
      "provides": [
        "ZenMCPBridge",
        "ModelRouter"
      ],
      "imports_from_project": [
        "model_orchestrator"
      ],
      "imported_by": [
        "test_real_world.py",
        "test_integration.py"
      ],
      "complexity": "medium",
      "lines_of_code": "~500"
    },
    "api_clients": {
      "file": "src/api_clients.py",
      "provides": [
        "get_api_client",
        "APIResponse",
        "BaseAPIClient"
      ],
      "imports_from_project": [],
      "imported_by": [
        "model_orchestrator_v2.py",
        "test_integration.py"
      ],
      "complexity": "medium",
      "lines_of_code": "~600"
    },
    "grok_api": {
      "file": "src/grok_api.py",
      "provides": [
        "GrokAPI"
      ],
      "imports_from_project": [],
      "imported_by": [],
      "complexity": "low",
      "lines_of_code": "~400",
      "note": "Standalone Grok API client"
    }
  },
  "external_dependencies": {
    "standard_library": [
      "os",
      "sys",
      "json",
      "yaml",
      "asyncio",
      "logging",
      "pathlib",
      "typing",
      "dataclasses",
      "enum",
      "datetime",
      "time",
      "re",
      "subprocess",
      "traceback",
      "argparse",
      "importlib",
      "base64"
    ],
    "third_party": {
      "aiohttp": {
        "purpose": "async HTTP client",
        "used_in": [
          "api_clients.py"
        ]
      },
      "requests": {
        "purpose": "HTTP client",
        "used_in": [
          "api_clients.py",
          "grok_api.py"
        ]
      },
      "numpy": {
        "purpose": "numerical computations",
        "used_in": [
          "model-orchestrator.py"
        ]
      },
      "tenacity": {
        "purpose": "retry logic",
        "used_in": [
          "api_clients.py"
        ]
      },
      "rich": {
        "purpose": "terminal UI",
        "used_in": [
          "orchestrator-cli.py"
        ]
      }
    }
  },
  "dependency_graph": {
    "layers": {
      "layer_1_core": [
        "model-orchestrator.py",
        "api_clients.py"
      ],
      "layer_2_enhanced": [
        "model-orchestrator-enhanced.py",
        "model_orchestrator_v2.py",
        "zen_mcp_bridge.py"
      ],
      "layer_3_utilities": [
        "grok_api.py",
        "orchestrator-cli.py",
        "list_all_models.py"
      ],
      "layer_4_testing": [
        "test_integration.py",
        "test_real_world.py",
        "test_local_models.py"
      ]
    },
    "circular_dependencies": "none_detected",
    "coupling_analysis": {
      "tight_coupling": [
        {
          "modules": [
            "model-orchestrator.py",
            "zen_mcp_bridge.py"
          ],
          "reason": "Direct class imports"
        },
        {
          "modules": [
            "model_orchestrator_v2.py",
            "api_clients.py"
          ],
          "reason": "Direct API client dependency"
        }
      ],
      "loose_coupling": [
        {
          "modules": [
            "grok_api.py",
            "*"
          ],
          "reason": "Standalone module"
        },
        {
          "modules": [
            "test_*.py",
            "*"
          ],
          "reason": "Test isolation"
        }
      ]
    }
  },
  "agent_system_dependencies": {
    "agent_definitions": {
      "total_agents": 18,
      "interdependencies": {
        "project_agent": {
          "coordinates": [
            "all agents"
          ],
          "receives_from": [
            "all agents"
          ],
          "handoffs_to": [
            "all domain specialists"
          ]
        },
        "model_orchestration_agent": {
          "advisory_to": [
            "all agents"
          ],
          "reads": [
            "Model Orchestrator/"
          ],
          "writes": [
            "model-recommendations.yaml"
          ]
        },
        "research_agent": {
          "sub_agents": 3,
          "handoffs_to": [
            "engineering_agent",
            "engineering_agent",
            "content_agent"
          ],
          "outputs": [
            "dependency-map.json",
            "architecture diagrams",
            "discovery reports"
          ]
        },
        "engineering_agent": {
          "sub_agents": 3,
          "handoffs_from": [
            "research_agent"
          ],
          "outputs": [
            "agent definitions",
            "workflows",
            "framework architecture"
          ]
        },
        "content_agent": {
          "sub_agents": 3,
          "handoffs_from": [
            "all agents"
          ],
          "outputs": [
            "technical docs",
            "user guides",
            "API documentation"
          ]
        }
      }
    }
  },
  "risk_assessment": {
    "high_risk_dependencies": [
      {
        "dependency": "numpy in model-orchestrator.py",
        "risk": "heavy numerical library, potential performance impact"
      },
      {
        "dependency": "rich in orchestrator-cli.py",
        "risk": "UI library may have updates breaking CLI interface"
      }
    ],
    "version_pinning_recommended": [
      "aiohttp",
      "numpy",
      "rich",
      "tenacity"
    ],
    "technical_debt": [
      {
        "item": "Multiple orchestrator versions",
        "impact": "code duplication, maintenance burden"
      },
      {
        "item": "No dependency injection",
        "impact": "tight coupling in some modules"
      },
      {
        "item": "Mixed async/sync patterns",
        "impact": "potential for race conditions"
      }
    ]
  }
}
agent:
  identity:
    name: [agent_name]
    version: 1.0.0
    description: [Brief description of the agent's purpose]
    role: [Role Name]
    tags:
    - [tag1]
    - [tag2]
    - v2.1
  configuration:
    language: en-US
    timezone: UTC
    log_level: INFO
    max_steps: 50
    timeout_seconds: 300
  directive:
    primary_goal: [Main objective]
    secondary_goals:
    - [Goal 1]
    - [Goal 2]
    constraints:
    - Do not hallucinate information
    - Respect user privacy
    - Adhere to project coding standards
  responsibilities:
  - name: [Responsibility Name]
    inputs:
    - [Input 1]
    outputs:
    - [Output 1]
    criticality: [High/Medium/Low]
    description: [Description]
  scope:
    can_access:
    - [Path 1]
    can_modify:
    - [Path 1]
    cannot_access:
    - [Path 1]
    cannot_modify:
    - [Path 1]
    escalation_triggers:
    - If confidence < 0.7
    - If cost > $1.00
    - If user intent is unclear
  context:
    required_context:
    - [Context Item 1]
    memory_persistence:
      short_term: Session only
      long_term: Project knowledge base
    knowledge_sources:
    - path: /docs
      description: Project documentation
    - path: /code
      description: Source code
  planning:
    enabled: true
    default_strategy: linear
    phases:
    - name: intent_analysis
      required: true
    - name: execution
      required: true
    constraints:
      max_depth: 3
      max_steps_per_phase: 10
  estimation:
    enabled: true
    currency: USD
    complexity_weights:
      code_modification: 1.5
      new_file_creation: 1.2
      read_only_analysis: 0.8
    cost_limits:
      warning_threshold: 0.1
      hard_limit: 1.0
      approval_required_above: 0.5
  model_selection:
    default_provider: anthropic
    default_model: claude-3.5-sonnet
    strategies:
      code_generation:
        primary: codellama:34b
        fallback: claude-3.5-sonnet
        selection_criteria: accuracy > speed
      reasoning:
        primary: deepseek-r1:70b
        fallback: claude-3.5-sonnet
        selection_criteria: depth > speed
      quick_response:
        primary: llama3.1:8b
        fallback: gpt-4o-mini
        selection_criteria: speed > accuracy
    overrides:
      force_local_if_offline: true
      force_cloud_if_complex: false
  delegation:
    enabled: false
    max_depth: 2
    allowed_subagents: []
    delegation_triggers:
    - condition: Task requires specialization
      target: appropriate_subagent
  sub_agents: []
  workflow:
    init:
    - Load configuration
    - Check dependencies
    execution_loop:
    - Receive task
    - Plan execution
    - Execute steps
    - Validate results
    - Report status
    cleanup:
    - Close file handles
    - Log summary
  output:
    default_format: markdown
    schema:
      type: object
      properties:
        status:
          type: string
          enum:
          - success
          - failure
          - partial
        result:
          type: object
        metrics:
          type: object
          properties:
            cost:
              type: number
            time:
              type: number
    templates:
      success: 'Task completed successfully.

        Result: {{result}}

        Cost: ${{metrics.cost}}'
      failure: 'Task failed.

        Error: {{error.message}}

        Recovery: {{error.recovery_suggestion}}'
  error_handling:
    strategies:
    - error: ContextLimitExceeded
      action: summarize_history
      retry: true
    - error: ApiRateLimit
      action: exponential_backoff
      retry: true
    - error: ToolFailure
      action: try_alternative_tool
      retry: true
    max_retries: 3
    fallback_mode: graceful_degradation
  interaction:
    user:
      tone: professional
      verbosity: concise
      confirmation_required:
      - delete_file
      - deploy_code
    other_agents:
      protocol: json_rpc
      timeout: 30s
  metrics:
    - name: Task Success Rate
      target: '> 95%'
    - name: Average Cost per Task
      target: < $0.50
    - name: Execution Time
      target: < 60s
  guardrails:
  - Never commit secrets to git
  - Never delete files without confirmation
  - Never execute arbitrary code outside sandbox
  - 'Max cost per session: $5.00'
  examples:
  - name: Standard Usage
    input: '[Example Input]'
    expected_output: '[Example Output]'
  tests:
  - name: Basic Functionality
    command: pytest tests/test_basic.py
  metadata:
    id: [UUID]
    created_at: '[ISO Date]'
    updated_at: '[ISO Date]'
    author: [Author]
    license: MIT
  versioning:
    current: 1.0.0
    changelog:
    - version: 1.0.0
      date: '[Date]'
      changes: Initial release

# MEMORY DIRECTIVE REFERENCE
#
# This agent operates under the Universal Memory Directive located at: [agent_memory/universal_memory_directive.md]
#
# ## Memory Management Instructions
#
# 1. **Find Memory File**: Locate your specific memory file in `agent_memory/agents/`. The filename format is `agent_{agent_name}_memory.md` or `sub_{sub_agent_name}_memory.md`.
# 2. **Review Memory File**: Read the "Agent Summary", "Agent Next Steps", and "Interactions" sections of your memory file to understand the current context and state.
# 3. **Plan with Memory**: Include the instructions and context from your memory file in your current planning operations. Ensure your plan aligns with the "Agent Next Steps".
# 4. **Update Memory File**: At the completion of your task, you MUST update your memory file. Update the "Agent Summary" with your accomplishments, update "Agent Next Steps", and log any interactions.
